<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Using Shiny to Replicate a Bloomberg Graphics | Connor Rothschild</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="site"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" property="og:site_name" content="site"><meta data-n-head="ssr" data-hid="description" name="description" content="Leveraging the power of {shiny} for static graphics"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="article"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://v3.connorrothschild.com/post/tidy-tuesday-replication"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Using Shiny to Replicate a Bloomberg Graphics"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="Leveraging the power of {shiny} for static graphics"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://v3.connorrothschild.com/post/tidy-tuesday-replication/header.png"><meta data-n-head="ssr" data-hid="twitter:url" name="twitter:url" content="https://v3.connorrothschild.com/post/tidy-tuesday-replication"><meta data-n-head="ssr" data-hid="twitter:title" name="twitter:title" content="Using Shiny to Replicate a Bloomberg Graphics"><meta data-n-head="ssr" data-hid="twitter:description" name="twitter:description" content="Leveraging the power of {shiny} for static graphics"><meta data-n-head="ssr" data-hid="twitter:image" name="twitter:image" content="https://v3.connorrothschild.com/post/tidy-tuesday-replication/header.png"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="@CL_Rothschild"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" property="article:published_time" content="2021-12-16T21:41:20.941Z"><meta data-n-head="ssr" property="article:modified_time" content="2021-12-16T21:41:20.942Z"><meta data-n-head="ssr" name="twitter:label1" content="Written by"><meta data-n-head="ssr" name="twitter:data1" content="Connor Rothschild"><base href="/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.png"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/_nuxt/icons/icon_64x64.ecd1ba.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/_nuxt/icons/icon_512x512.ecd1ba.png" sizes="512x512"><link data-n-head="ssr" rel="manifest" href="/_nuxt/manifest.d23946e6.json" data-hid="manifest"><link data-n-head="ssr" data-hid="canonical" rel="canonical" href="https://v3.connorrothschild.com/post/tidy-tuesday-replication"><link rel="preload" href="/_nuxt/64b5898.js" as="script"><link rel="preload" href="/_nuxt/cbfb02f.js" as="script"><link rel="preload" href="/_nuxt/css/0e51f67.css" as="style"><link rel="preload" href="/_nuxt/7e4b2d1.js" as="script"><link rel="preload" href="/_nuxt/css/2510a47.css" as="style"><link rel="preload" href="/_nuxt/2bd4311.js" as="script"><link rel="preload" href="/_nuxt/css/2d74e3a.css" as="style"><link rel="preload" href="/_nuxt/c4401d5.js" as="script"><link rel="preload" href="/_nuxt/2c17e43.js" as="script"><link rel="preload" href="/_nuxt/css/ff4f90e.css" as="style"><link rel="preload" href="/_nuxt/e8925e5.js" as="script"><link rel="preload" href="/_nuxt/css/2cc613b.css" as="style"><link rel="preload" href="/_nuxt/ea1b2ed.js" as="script"><link rel="stylesheet" href="/_nuxt/css/0e51f67.css"><link rel="stylesheet" href="/_nuxt/css/2510a47.css"><link rel="stylesheet" href="/_nuxt/css/2d74e3a.css"><link rel="stylesheet" href="/_nuxt/css/ff4f90e.css"><link rel="stylesheet" href="/_nuxt/css/2cc613b.css"><link rel="preload" href="/_nuxt/static/1639691221/post/tidy-tuesday-replication/state.js" as="script"><link rel="preload" href="/_nuxt/static/1639691221/post/tidy-tuesday-replication/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1639691221/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><div class="theme-primary-off"><nav role="navigation" aria-label="main navigation" class="navbar theme-primary" data-v-577d5465><div class="navbar-brand" data-v-577d5465><a href="/" class="navbar-item has-text-weight-boldest nuxt-link-active" data-v-577d5465>Connor Rothschild
    </a> <a role="button" aria-label="menu" aria-expanded="false" data-target="navbarID" class="navbar-burger" data-v-577d5465><span aria-hidden="true" data-v-577d5465></span> <span aria-hidden="true" data-v-577d5465></span> <span aria-hidden="true" data-v-577d5465></span></a></div> <div id="navbarID" class="navbar-menu" data-v-577d5465><div class="navbar-end" data-v-577d5465><div class="navbar-item" data-v-577d5465><div class="themepicker__btn" data-v-15133967 data-v-577d5465><span class="themepicker__palette" data-v-15133967><span class="themepicker__swatch themepicker__swatch--primary" data-v-15133967></span> <span class="themepicker__swatch themepicker__swatch--secondary" data-v-15133967></span> <span class="themepicker__swatch themepicker__swatch--text" data-v-15133967></span></span></div></div> <a href="/#projects" class="navbar-item" data-v-577d5465>
        Projects
      </a> <a href="/#awards" class="navbar-item" data-v-577d5465>
        Awards
      </a> <a href="/#blog" class="navbar-item" data-v-577d5465>
        Blog
      </a> <a href="mailto:connor@connorrothschild.com" class="navbar-item" data-v-577d5465>
        Email
      </a> <a href="https://docs.google.com/document/d/1qBH-wNMe2nv9Xa4uzHZ5wBevohwKuB3h2i9M2yk4POk/edit?usp=sharing" target="_blank" rel="noopener" class="navbar-item" data-v-577d5465>
        Resume
      </a></div></div></nav> <article class="section container is-max-tablet"><h1 class="my-3 has-text-weight-boldest content-title is-size-3-mobile">
      Using Shiny to Replicate a Bloomberg Graphics
    </h1> <p class="my-3 content-description is-size-5-mobile">
      Leveraging the power of {shiny} for static graphics
    </p> <p class="heading is-size-6 has-text-weight-light">
      December 2019 •
      <span>14 minute read
  <!----></span></p> <hr> <div class="nuxt-content"><p>This weeks’s installment of <a href="https://t.co/sElb4fcv3u?amp=1" rel="nofollow noopener noreferrer" target="_blank">Tidy
Tuesday</a> is all about replicating
professional plots in R. Inspired by Rafael Irizarry’s post <a href="https://simplystatistics.org/2019/08/28/you-can-replicate-almost-any-plot-with-ggplot2/" rel="nofollow noopener noreferrer" target="_blank">“You can
replicate almost any plot with
R”</a>,
the goal is to take otherwise professional publication-ready plots and
make them in R (usually ggplot2).</p>
<p>I was interested in this Tidy Tuesday because some of my <a href="https://connorrothschild.github.io/r/introducing-tpltheme/" rel="nofollow noopener noreferrer" target="_blank">past
work</a> has
been dedicated to creating publication-ready plots. Because <a href="https://connorrothschild.github.io/r/automation/" rel="nofollow noopener noreferrer" target="_blank">the first
visualization I ever
created</a> was inspired
by (a replication of?) <a href="https://www.bloomberg.com/graphics/2017-job-risk/" rel="nofollow noopener noreferrer" target="_blank">this
visualization</a> from
Bloomberg graphics, I decided to set out on a journey to make that plot
as close as possible to the real thing.</p>
<div class="img" style="display:inline-block;width:100%" data-v-bbcfffec><img src="/_nuxt/img/8900ad1.png" alt="A scatterplot by Bloomberg Graphics, showing automation risk compared to median income." data-v-bbcfffec></div>
<p>The real goal of this week’s Tidy Tuesday is using <strong>the data that
Rafael posted</strong> to create other cool visualizations; I took a slightly
different approach to try to recreate another visualization entirely.
What follows is an interactive recreation of the visualization above,
using <a href="https://shiny.rstudio.com/" rel="nofollow noopener noreferrer" target="_blank">Shiny</a> and
<a href="https://plot.ly/r/" rel="nofollow noopener noreferrer" target="_blank">plotly</a>.</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>library<span class="token punctuation">(</span>ggplot2<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>ggthemes<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>dplyr<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>ggrepel<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>tools<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>readxl<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>tidyverse<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>knitr<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>shiny<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>plotly<span class="token punctuation">)</span>

theme_set<span class="token punctuation">(</span>theme_minimal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<h1 id="load-and-clean-data"><a href="#load-and-clean-data" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Load and Clean Data</h1>
<p>First, we read in the data. This process was a bit complicated as I kind
of had to guess where Bloomberg pulled their data from.</p>
<p>I relied on three datasets:</p>
<ol>
<li>Educational attainment broke down by occupation, provided by BLS
<a href="https://www.bls.gov/emp/ep_education_training_system.htm" rel="nofollow noopener noreferrer" target="_blank">here</a></li>
<li>Salaries, median hourly/annual wages broke down by occupation,
provided by BLS
<a href="https://www.bls.gov/oes/current/oes_nat.htm#11-0000" rel="nofollow noopener noreferrer" target="_blank">here</a></li>
<li>Risk of automation broken down by occupation, provided by Carl
Benedikt Frey and Michael A. Osborne (but compiled
<a href="https://data.world/wnedds/occupations-by-state-and-likelihood-of-automation" rel="nofollow noopener noreferrer" target="_blank">here</a>)</li>
</ol>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>education <span class="token operator">&lt;-</span> read_excel<span class="token punctuation">(</span><span class="token string">"data/education.xlsx"</span><span class="token punctuation">,</span> skip<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
salary <span class="token operator">&lt;-</span> read_excel<span class="token punctuation">(</span><span class="token string">"data/national_M2017_dl.xlsx"</span><span class="token punctuation">)</span>
automation <span class="token operator">&lt;-</span> read_excel<span class="token punctuation">(</span><span class="token string">"data/raw_state_automation_data.xlsx"</span><span class="token punctuation">)</span>
</code></pre></div>
<p>In <a href="https://connorrothschild.github.io/r/automation/" rel="nofollow noopener noreferrer" target="_blank">another post</a>, I
detail the data cleaning process. I’ll spare you the details here.</p>
<h1 id="create-the-ui"><a href="#create-the-ui" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Create the UI</h1>
<p>Now we create the UI, as is the case for any Shiny app. This is pretty
simple: first, we add the title panel and beautify it with some CSS.</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>ui <span class="token operator">&lt;-</span> fluidPage<span class="token punctuation">(</span>

    titlePanel<span class="token punctuation">(</span>
      h1<span class="token punctuation">(</span><span class="token string">"A College Degree Lowers Job Automation Risk"</span><span class="token punctuation">,</span>
        style <span class="token operator">=</span> "font<span class="token operator">-</span>family<span class="token operator">:</span> <span class="token string">'Helvetica Neue'</span><span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span> font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">;</span> line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">;</span>"<span class="token punctuation">)</span><span class="token punctuation">,</span>
      windowTitle <span class="token operator">=</span> <span class="token string">"Find Out If Your Job Will Be Automated"</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div>
<p>Next, we add the main panel, which includes a) the plot object, b) the
footnote, and c) some CSS.</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>mainPanel<span class="token punctuation">(</span>
      fluidRow<span class="token punctuation">(</span>
        div<span class="token punctuation">(</span>
           plotlyOutput<span class="token punctuation">(</span><span class="token string">"plot"</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token string">'600px'</span><span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token string">'850px'</span><span class="token punctuation">)</span>
           <span class="token punctuation">)</span><span class="token punctuation">,</span>align<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           p<span class="token punctuation">(</span><span class="token string">"DATA: FREY & OSBORNE, BUREAU OF LABOR STATISTICS"</span><span class="token punctuation">,</span>
           style <span class="token operator">=</span> "font<span class="token operator">-</span>family<span class="token operator">:</span> <span class="token string">'Helvetica Neue'</span><span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span> font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">;</span> line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">;</span>"<span class="token punctuation">)</span>
           <span class="token punctuation">)</span>

<span class="token punctuation">)</span>
</code></pre></div>
<p>That’s it!</p>
<h1 id="server"><a href="#server" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Server</h1>
<p>Now we can define the <code>server()</code> function, where the real magic of this
visualization happens.</p>
<p>All of the following takes place in the
<code>server &lt;- function(input, output, session) {}</code> function.</p>
<h2 id="create-a-ggplot-object"><a href="#create-a-ggplot-object" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Create a ggplot Object</h2>
<p>We know we’re going to need a ggplot object. In my case, we’ll need a
plot object which relies on <em>probability, median income,</em> and <em>risk of
automation</em>.</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>ggplot<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>x<span class="token operator">=</span>probability<span class="token punctuation">,</span> y<span class="token operator">=</span>A_MEDIAN<span class="token punctuation">,</span> size<span class="token operator">=</span>TOT_EMP<span class="token punctuation">,</span> fill<span class="token operator">=</span>typicaled<span class="token punctuation">,</span> text <span class="token operator">=</span> text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
    geom_point<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">,</span> alpha <span class="token operator">=</span> <span class="token number">.97</span><span class="token punctuation">,</span> stroke <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span> <span class="token operator">+</span>
    scale_size<span class="token punctuation">(</span>range <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> guide <span class="token operator">=</span> <span class="token string">'legend'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>This creates the base of the object.</p>
<h3 id="add-a-tooltip"><a href="#add-a-tooltip" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Add a Tooltip</h3>
<p>We also know that, like the Bloomberg visualization we’re replicating,
we’re going to want a tooltip.</p>
<p>That’s why we included <code>text</code> in the above code, which we define here:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>data <span class="token percent-operator operator">%>%</span>
    mutate<span class="token punctuation">(</span>text <span class="token operator">=</span> glue<span class="token operator">::</span>glue<span class="token punctuation">(</span><span class="token string">'&lt;span style="font-size:16px;font-weight:bold">{data$occupation}&lt;/span>'</span><span class="token punctuation">,</span>
                             <span class="token string">'\n&lt;b>Number employed:&lt;/b> {scales::comma(data$TOT_EMP)}'</span><span class="token punctuation">,</span>
                             <span class="token string">'\n&lt;b>Computerization prob:&lt;/b> {data$probability}%'</span><span class="token punctuation">,</span>
                             <span class="token string">'\n&lt;b>Education:&lt;/b> {data$typicaled}'</span><span class="token punctuation">,</span>
                             sep <span class="token operator">=</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>This tooltip takes in some CSS, some HTML, and creates a pretty tooltip!
The <code>glue</code> function is lovely.</p>
<h3 id="axes-and-labels"><a href="#axes-and-labels" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Axes and Labels</h3>
<p>The Bloomberg visualization is unique in that it has no axis lines. We
can replicate that in <code>ggplot2</code> via the following code:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>theme<span class="token punctuation">(</span>axis.line.x <span class="token operator">=</span> ggplot2<span class="token operator">::</span>element_blank<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      axis.line.y <span class="token operator">=</span> ggplot2<span class="token operator">::</span>element_blank<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      axis.text <span class="token operator">=</span> element_text<span class="token punctuation">(</span>colour <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>But that’s not all!</p>
<p>The Bloomberg visualization is also unique in that it doesn’t have axis
titles. Moreover, the axis labels are a bit unique; the x axis increases
sequentially by 10 until 90 where it transitions into ‘90%’ (the % is
not present in the earlier numbers).</p>
<p>We can mimic that kind of styling with this code:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>xlab<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span>
ylab<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span>
labs<span class="token punctuation">(</span>size<span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> alpha <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> fill <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span>
scale_y_continuous<span class="token punctuation">(</span>limits <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">240000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   breaks <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">,</span> <span class="token number">40000</span><span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">,</span> <span class="token number">80000</span><span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">,</span> <span class="token number">120000</span><span class="token punctuation">,</span> <span class="token number">140000</span><span class="token punctuation">,</span> <span class="token number">160000</span><span class="token punctuation">,</span> <span class="token number">180000</span><span class="token punctuation">,</span> <span class="token number">200000</span><span class="token punctuation">,</span> <span class="token number">220000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"20K"</span><span class="token punctuation">,</span> <span class="token string">"40K"</span><span class="token punctuation">,</span> <span class="token string">"60K"</span><span class="token punctuation">,</span> <span class="token string">"80K"</span><span class="token punctuation">,</span> <span class="token string">"100K"</span><span class="token punctuation">,</span> <span class="token string">"120K"</span><span class="token punctuation">,</span> <span class="token string">"140K"</span><span class="token punctuation">,</span> <span class="token string">"160K"</span><span class="token punctuation">,</span> <span class="token string">"180K"</span><span class="token punctuation">,</span> <span class="token string">"200K"</span><span class="token punctuation">,</span> <span class="token string">"220K"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
scale_x_continuous<span class="token punctuation">(</span>limits <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   breaks <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token string">"90%"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>We create a bit of a buffer on the <code>limits</code> argument so that we can add
annotations. We’ll get to that later!</p>
<h3 id="colors"><a href="#colors" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Colors</h3>
<p>To get as close as possible to Bloomberg’s plot, I’d also like to mimic
their color scheme. I pulled the colors from their dotplot with this
awesome <a href="https://chrome.google.com/webstore/detail/color-picker/ohcpnigalekghcmgcdcenkpelffpdolg" rel="nofollow noopener noreferrer" target="_blank">Chrome
plugin</a>;
then, I added them to R with the following:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>cols <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">'No formal educational credential'</span> <span class="token operator">=</span> <span class="token string">'#FA1A48'</span><span class="token punctuation">,</span><span class="token string">'High school diploma or equivalent'</span> <span class="token operator">=</span> <span class="token string">'#F79734'</span><span class="token punctuation">,</span>
          <span class="token string">"Postsecondary nondegree award"</span> <span class="token operator">=</span> <span class="token string">'#FDFF1C'</span><span class="token punctuation">,</span> <span class="token string">"Associate's degree"</span> <span class="token operator">=</span> <span class="token string">'#1DDF50'</span><span class="token punctuation">,</span>
          <span class="token string">"Bachelor's degree"</span> <span class="token operator">=</span> <span class="token string">'#34D19D'</span><span class="token punctuation">,</span> <span class="token string">"Master's degree"</span> <span class="token operator">=</span> <span class="token string">'#1BC0E9'</span><span class="token punctuation">,</span>
          <span class="token string">"Doctoral or professional degree"</span> <span class="token operator">=</span> <span class="token string">'#1B91FF'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>In the plot object, we reference this with the following:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>scale_fill_manual<span class="token punctuation">(</span>values <span class="token operator">=</span> cols<span class="token punctuation">,</span> labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">'No formal educational credential'</span><span class="token punctuation">,</span> <span class="token string">'High school diploma or equivalent'</span><span class="token punctuation">,</span> <span class="token string">"Some college, no degree"</span><span class="token punctuation">,</span>
                                             <span class="token string">"Associate's degree"</span><span class="token punctuation">,</span> <span class="token string">"Postsecondary nondegree award"</span><span class="token punctuation">,</span>
                                             <span class="token string">"Bachelor's degree"</span><span class="token punctuation">,</span> <span class="token string">"Master's degree"</span><span class="token punctuation">,</span>
                                             <span class="token string">"Doctoral or professional degree"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>This essentially creates a fill scale (manually) with specified hex
codes for colors. I also tried to manipulate the order of the legend but
that didn’t translate to plotly (a documented problem, I believe).</p>
<h3 id="final-touches-for-the-ggplot"><a href="#final-touches-for-the-ggplot" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Final Touches for the ggplot</h3>
<p>Finally, we do something really hacky: add a regression line with
<code>geom_segment</code>. (I’m so sorry, R gods.)</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>geom_segment<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">54000</span><span class="token punctuation">,</span> xend <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> yend <span class="token operator">=</span> <span class="token number">58000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span>
</code></pre></div>
<p>We now have the ggplot object created; let’s convert it to a plotly
object.</p>
<h2 id="create-a-plotly-object"><a href="#create-a-plotly-object" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Create a plotly Object</h2>
<p>This process relies on the <code>ggplotly</code> function, which reads in a
previously defined <code>ggplot</code> object and converts into an interactive
plotly one.</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>introPlot <span class="token operator">&lt;-</span> ggplotly<span class="token punctuation">(</span>introggPlot<span class="token punctuation">,</span> tooltip <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">,</span> sort <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
</code></pre></div>
<p>After creating the base plotly object, we move to some more complicated
steps:</p>
<h3 id="legend-orientation"><a href="#legend-orientation" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Legend Orientation</h3>
<p>We’d like the legend to orient horizontally, right above the plot. We do
that with the following (inside the <code>layout</code> function):</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>legend <span class="token operator">=</span> list<span class="token punctuation">(</span>orientation <span class="token operator">=</span> <span class="token string">"h"</span><span class="token punctuation">,</span>
                     xanchor <span class="token operator">=</span> <span class="token string">"left"</span><span class="token punctuation">,</span>
                     x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>
                     traceorder <span class="token operator">=</span> <span class="token string">"normal"</span><span class="token punctuation">,</span>
                     itemsizing <span class="token operator">=</span> <span class="token string">"constant"</span><span class="token punctuation">,</span>
                     tracegroupgap <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
                     font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>This does a few things. First, it orients the legend horizontally.
Second, it anchors the legend to the left. Third, it defines the
location (using x-y pairs) of the legend. <code>traceorder</code> is meant to
maintain the previous order from <code>ggplot</code>, but that didn’t work in my
version. <code>itemsizing</code> is meant to keep the legend items with a constant
size, as opposed to dynamic relative to the plot objects themselves.
This also didn’t work. The last two arguments define the spacing between
points and the font size of the legend text!</p>
<h3 id="axes-revisited"><a href="#axes-revisited" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Axes Revisited</h3>
<p>We also see the Bloomberg viz has a right-aligned Y-axis. We can add
that to plotly via the following code:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>yaxis <span class="token operator">=</span> list<span class="token punctuation">(</span>
        tickfont <span class="token operator">=</span> element_blank<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        overlaying <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
        side <span class="token operator">=</span> <span class="token string">"right"</span><span class="token punctuation">,</span>
        title <span class="token operator">=</span> <span class="token string">""</span>
      <span class="token punctuation">)</span>
</code></pre></div>
<h3 id="some-aesthetic-changes"><a href="#some-aesthetic-changes" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Some Aesthetic Changes</h3>
<p>Finally, we add three commands to the <code>layout</code> function.</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>font <span class="token operator">=</span> list<span class="token punctuation">(</span>family <span class="token operator">=</span> <span class="token string">'Helvetica Neue'</span><span class="token punctuation">,</span>
            color <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
margin <span class="token operator">=</span> list<span class="token punctuation">(</span>r<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>t<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>pad <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
hoverlabel <span class="token operator">=</span> list<span class="token punctuation">(</span>bgcolor <span class="token operator">=</span> <span class="token string">'white'</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'black'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>This a) changes the font of the plot, b) adds a small margin, and c)
stylizes the tooltip on hover.</p>
<h3 id="annotations"><a href="#annotations" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Annotations</h3>
<p>The last step is to mimic Bloomberg’s annotations. This is a little
tough, specifically because it requires pretty specific x- and y-values.</p>
<p>First, we’ll add their guiding annotations (that replace axis labels)
that you can find in each corner:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">7500</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Low paid,\nleast vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">7500</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Low paid,\nmost vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">230000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Best paid,\nleast vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">230000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Best paid,\nmost vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span>
</code></pre></div>
<p>Next, we add annotations for ‘most and least likely to be automated’, as
well as the y axis label.</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> glue<span class="token operator">::</span>glue<span class="token punctuation">(</span>sprintf<span class="token punctuation">(</span><span class="token string">'\u2190'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Least likely to be automated"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">105</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> glue<span class="token operator">::</span>glue<span class="token punctuation">(</span><span class="token string">"Most likely to be automated"</span><span class="token punctuation">,</span> sprintf<span class="token punctuation">(</span><span class="token string">'\u2192'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">243000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"Average annual wage"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span>
</code></pre></div>
<p>And finally, add a couple of plot annotations which label specific
points. (We are not labelling a hundred occupations like Bloomberg did.)</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>probability<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Chief Executives"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      y <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>A_MEDIAN<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Chief Executives"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"Chief Executives"</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
      arrowhead <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      ax <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span>
      ay <span class="token operator">=</span> <span class="token number">25</span>
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>probability<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Cashiers"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      y <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>A_MEDIAN<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Cashiers"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"Cashiers"</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
      arrowhead <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      ax <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span>
      ay <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">50</span>
    <span class="token punctuation">)</span>
</code></pre></div>
<p>Finalize the plotly object with</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>config<span class="token punctuation">(</span>displaylogo <span class="token operator">=</span> F<span class="token punctuation">,</span> showSendToCloud <span class="token operator">=</span> F<span class="token punctuation">,</span> displayModeBar <span class="token operator">=</span> F<span class="token punctuation">)</span>
</code></pre></div>
<p>We’re done! Run the application with the following code:</p>
<div class="nuxt-content-highlight"><pre class="language-r line-numbers"><code>shinyApp<span class="token punctuation">(</span>ui <span class="token operator">=</span> ui<span class="token punctuation">,</span> server <span class="token operator">=</span> server<span class="token punctuation">)</span>
</code></pre></div>
<p>And we’re done! Find my interactive visualization
<a href="https://connorrothschild.shinyapps.io/2019-12-10/" rel="nofollow noopener noreferrer" target="_blank">here</a>. Find the
code, uninterrupted and (hopefully) reproducible,
<em><a href="https://github.com/connorrothschild/tidytuesday/blob/master/2019-12-10/app.R" rel="nofollow noopener noreferrer" target="_blank">here</a></em>.</p>
<p>Here’s the Bloomberg visualization:</p>
<div class="img" style="display:inline-block;width:100%" data-v-bbcfffec><img src="/_nuxt/img/8900ad1.png" alt="A scatterplot by Bloomberg Graphics, showing automation risk compared to median income." data-v-bbcfffec></div>
<p>And here’s mine:</p>
<div class="img" style="display:inline-block;width:100%" data-v-bbcfffec><img src="/_nuxt/img/cc1ef8e.png" alt="A scatterplot recreation, showing automation risk compared to median income." data-v-bbcfffec></div></div> <hr> <div class="my-4"><a href="/post" class="subtitle has-text-weight-bolder is-size-5 link heading is-inline-block nuxt-link-active">👈 Back to all posts</a></div> <div class="columns"><div class="column"><div style="height:100%;transition:1s transform ease;transform:translateX(0) translateY(0)"><a href="/post/color-in-data-vis"><article class="card card-fullheight has-background-semitransparent"><div class="card-image"><figure class="image is-2by1"><img src="//:0" alt="Blog post header image" class="v-lazy-image object-fit-cover" data-v-14ae8593></figure></div> <div class="card-content"><div class="content is-flex is-justify-content-space-evenly"><div class="has-text-centered"><p class="heading title is-size-6">Next post</p> <p class="has-text-weight-light title is-size-6">
                Color in Data Visualization: Less How, More Why
              </p></div></div></div></article></a> <!----></div></div> <div class="column"><div style="height:100%;transition:1s transform ease;transform:translateX(0) translateY(0)"><a href="/post/map-springfield"><article class="card card-fullheight has-background-semitransparent"><div class="card-image"><figure class="image is-2by1"><img src="//:0" alt="Blog header image" class="v-lazy-image object-fit-cover" data-v-14ae8593></figure></div> <div class="card-content"><div class="content is-flex is-justify-content-space-evenly"><div class="has-text-centered"><p class="heading title is-size-6">Previous post</p> <p class="has-text-weight-light title is-size-6">
                Create a Streetmap of Any City in R
              </p></div></div></div></article></a> <!----></div></div></div></article> <footer class="site-footer" data-v-37cbb2b5><div class="content has-text-centered site-footer-content" data-v-37cbb2b5><p data-v-37cbb2b5>
      Built with 💚 and Nuxt.js by
      <a href="https://twitter.com/CL_Rothschild" target="_blank" rel="noopener noreferrer" class="link" data-v-37cbb2b5>Connor Rothschild</a>. The source code is available on
      <a href="https://github.com/connorrothschild/v3" target="_blank" rel="noopener noreferrer" class="link" data-v-37cbb2b5>GitHub</a>.
    </p></div></footer></div></div></div></div><script defer src="/_nuxt/static/1639691221/post/tidy-tuesday-replication/state.js"></script><script src="/_nuxt/64b5898.js" defer></script><script src="/_nuxt/c4401d5.js" defer></script><script src="/_nuxt/2c17e43.js" defer></script><script src="/_nuxt/e8925e5.js" defer></script><script src="/_nuxt/ea1b2ed.js" defer></script><script src="/_nuxt/cbfb02f.js" defer></script><script src="/_nuxt/7e4b2d1.js" defer></script><script src="/_nuxt/2bd4311.js" defer></script>
  </body>
</html>
